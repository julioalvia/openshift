{"openapi":"3.1.0","info":{"title":"Transformer API - DeploymentConfig to Deployment","description":"API para convertir DeploymentConfig de OpenShift a Deployment de Kubernetes","version":"1.0.0"},"paths":{"/":{"get":{"tags":["Health"],"summary":"Health Check","description":"Endpoint raíz para verificar que la API está funcionando.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/health":{"get":{"tags":["Health"],"summary":"Health Check","description":"Endpoint de health check.","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/convert":{"post":{"tags":["Conversion"],"summary":"Convertir DeploymentConfig a Deployment","description":"Convierte DeploymentConfig de OpenShift a Deployment de Kubernetes.\n\nEste endpoint acepta contenido YAML que puede contener uno o más documentos.\nSolo los documentos de tipo DeploymentConfig serán convertidos a Deployment.\nLos demás recursos (Service, Route, ConfigMap, etc.) se dejarán tal cual.\n\nArgs:\n    request: Objeto con el contenido YAML a convertir\n    \nReturns:\n    ConversionResponse con el YAML convertido y warnings\n    \nRaises:\n    HTTPException: Si hay errores en el parsing o conversión","operationId":"convert_deployment_config_convert_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConversionRequest"}}},"required":true},"responses":{"200":{"description":"Conversión exitosa","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConversionResponse"}}}},"400":{"description":"Error en el YAML de entrada o formato inválido","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Error interno del servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"ConversionRequest":{"properties":{"yaml_content":{"type":"string","title":"Yaml Content","description":"Contenido YAML con uno o más documentos (DeploymentConfig y otros recursos)","example":"apiVersion: v1\nkind: DeploymentConfig\nmetadata:\n  name: my-app\nspec:\n  replicas: 2\n  selector:\n    app: my-app\n  template:\n    metadata:\n      labels:\n        app: my-app\n    spec:\n      containers:\n      - name: my-app\n        image: my-image:latest\n"}},"type":"object","required":["yaml_content"],"title":"ConversionRequest","description":"Request para convertir YAML de DeploymentConfig a Deployment.","example":{"yaml_content":"apiVersion: v1\nkind: DeploymentConfig\nmetadata:\n  name: my-app\nspec:\n  replicas: 2\n  selector:\n    app: my-app\n  template:\n    metadata:\n      labels:\n        app: my-app\n    spec:\n      containers:\n      - name: my-app\n        image: my-image:latest\n"}},"ConversionResponse":{"properties":{"yaml_output":{"type":"string","title":"Yaml Output","description":"Contenido YAML resultante con los Deployment y otros recursos"},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings","description":"Lista de advertencias sobre elementos que requieren atención manual"},"converted_count":{"type":"integer","title":"Converted Count","description":"Número de DeploymentConfigs convertidos"}},"type":"object","required":["yaml_output","converted_count"],"title":"ConversionResponse","description":"Response con el YAML convertido y warnings.","example":{"converted_count":1,"warnings":[],"yaml_output":"apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: my-app\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: my-app\n  template:\n    metadata:\n      labels:\n        app: my-app\n    spec:\n      containers:\n      - name: my-app\n        image: my-image:latest\n  strategy:\n    type: RollingUpdate\n"}},"ErrorResponse":{"properties":{"detail":{"type":"string","title":"Detail","description":"Descripción del error"},"error_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Type","description":"Tipo de error"}},"type":"object","required":["detail"],"title":"ErrorResponse","description":"Response estándar para errores."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"status":{"type":"string","title":"Status","description":"Estado de salud de la API","default":"healthy"},"version":{"type":"string","title":"Version","description":"Versión de la API","default":"1.0.0"}},"type":"object","title":"HealthResponse","description":"Response del endpoint de health check."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}